[tox]
minversion=1.5.0
toxworkdir=.cache
envlist=py27-pep8,py27-pyflakes,py27-coverage,py26,py27,py32,py33,pypy

[testenv]
commands=py.test dice
deps=
    pytest
    termcolor

[pytest]
addopts=--strict --quiet --tb=short

[testenv:py27-pep8]
commands=pep8 dice
basepython=python2.7
deps=pep8

[pep8]
ignore=E128,E302

[testenv:py27-pyflakes]
commands=pyflakes dice
basepython=python2.7
deps=pyflakes

[testenv:py27-coverage]
commands=py.test --cov-config tox.ini --cov-report html --cov dice --quiet
basepython=python2.7
deps=
    {[testenv]deps}
    pytest-cov

[run]
branch = True
data_file=.cache/coverage/coverage

[html]
directory=.cache/coverage
